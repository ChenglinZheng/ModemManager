<?xml version="1.0" encoding="UTF-8" ?>

<node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <interface name="org.freedesktop.ModemManager.Modem.Gsm.Network">
    <method name="Register">
      <tp:docstring>
	Register the device to network.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_register"/>
      <arg name="network_id" type="s" direction="in">
	<tp:docstring>
	  The network ID to register. An empty string can be used to register to the home network.
	</tp:docstring>
      </arg>
    </method>

    <method name="Scan">
      <tp:docstring>
	Scan for available networks.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_scan"/>
      <arg name="results" type="aa{ss}" direction="out">
	<tp:docstring>
	  Found networks. It's an array of dictionaries (strings for keys and values), the list of known keys is the following: status, operator-long, operator-short, operator-num, access-tech.
	</tp:docstring>
      </arg>
    </method>

    <method name="SetApn">
      <tp:docstring>
	Set the APN.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_set_apn"/>
      <arg name="apn" type="s" direction="in">
	<tp:docstring>
	  The APN.
	</tp:docstring>
      </arg>
    </method>

    <method name="GetSignalQuality">
      <tp:docstring>
	Get the current signal quality.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_get_signal_quality"/>
      <arg name="quality" type="u" direction="out">
	<tp:docstring>
	  Signal quality (percent).
	</tp:docstring>
      </arg>
    </method>

    <method name="SetBand">
      <tp:docstring>
        Sets the band the device is allowed to use when connecting to a mobile network.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_set_band"/>
      <arg name="band" type="u" direction="in" tp:type="MM_MODEM_GSM_BAND">
        <tp:docstring>
          The desired band.  Only one band may be specified, and may not be UNKNOWN.
        </tp:docstring>
      </arg>
    </method>

    <method name="GetBand">
      <tp:docstring>
        Returns the current band the device is using.  (Note for plugin writers: returned value must not be ANY)
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_get_band"/>
      <arg name="band" type="u" direction="out" tp:type="MM_MODEM_GSM_BAND">
        <tp:docstring>
          The current band.
        </tp:docstring>
      </arg>
    </method>

    <method name="SetNetworkMode">
      <tp:docstring>
        Set the desired mode the device may use when connecting to a mobile network.
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_set_network_mode"/>
      <arg name="mode" type="u" direction="in" tp:type="MM_MODEM_GSM_MODE">
        <tp:docstring>
          The desired network mode.  Only one mode may be specified, and may not be UNKNOWN.
        </tp:docstring>
      </arg>
    </method>

    <method name="GetNetworkMode">
      <tp:docstring>
        Returns the current network mode of the device.  (Note for plugin writers: returned value *may* be ANY)
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_get_network_mode"/>
      <arg name="mode" type="u" direction="out" tp:type="MM_MODEM_GSM_MODE">
        <tp:docstring>
          Returns the general network mode (ex. 2G/3G preference) of the device.
        </tp:docstring>
      </arg>
    </method>

    <method name="GetRegistrationInfo">
      <tp:docstring>
	Get the registration status and the current operator (if registered).
      </tp:docstring>
      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
      <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_gsm_modem_get_reg_info"/>
      <arg name="info" type="(uss)" direction="out">
	<tp:docstring>
	  The returned information contains:
	    * Network status.
	    * Current operator code.
	    * Current operator name,
	</tp:docstring>
      </arg>
    </method>

    <signal name="SignalQuality">
      <tp:docstring>
	The signal quality changed.
      </tp:docstring>
      <arg name="quality" type="u">
	<tp:docstring>
	  The new quality in percent, 0..100.
	</tp:docstring>
      </arg>
    </signal>

    <signal name="RegistrationInfo">
      <tp:docstring>
	The registration status changed.
      </tp:docstring>
      <arg name="status" type="u" tp:type="MM_MODEM_GSM_NETWORK_REG_STATUS">
	<tp:docstring>
	  The network status.
	</tp:docstring>
      </arg>
      <arg name="operator_code" type="s">
	<tp:docstring>
	  The current operator code.
	</tp:docstring>
      </arg>
      <arg name="operator_name" type="s">
	<tp:docstring>
	  The current operator name.
	</tp:docstring>
      </arg>
    </signal>

    <signal name="NetworkMode">
      <tp:docstring>
	The network mode changed.
      </tp:docstring>
      <arg name="mode" type="u" tp:type="MM_MODEM_GSM_MODE">
	<tp:docstring>
	  The new network mode.
	</tp:docstring>
      </arg>
    </signal>

    <tp:enum name="MM_MODEM_GSM_NETWORK_REG_STATUS" type="u">
      <tp:enumvalue suffix="IDLE" value="0">
	<tp:docstring>
	  Not registered, not searching for new operator to register.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="HOME" value="1">
	<tp:docstring>
	  Registered on home network.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="SEARCHING" value="2">
	<tp:docstring>
	  Not registered, searching for new operator to register with.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="DENIED" value="3">
	<tp:docstring>
	  Registration denied.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="UNKNOWN" value="4">
	<tp:docstring>
	  Unknown registration status.
	</tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ROAMING" value="5">
	<tp:docstring>
	  Registered on a roaming network.
	</tp:docstring>
      </tp:enumvalue>
    </tp:enum>

  </interface>
</node>
